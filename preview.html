<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Vista Previa - Humads</title>
    <link rel="stylesheet" href="styles.css">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
</head>
<body>
    <!-- Hero Section -->
    <section id="home" class="hero">
        <div class="hero-content">
            <div class="hero-text">
                <h1 id="preview-hero-title">Generamos<br><span class="dynamic-text" id="preview-dynamic-text">leads</span></h1>
                <p id="preview-hero-description">Diseñamos campañas pensadas para atraer leads calificados, que consulten y se conviertan en ventas. No solo aumentamos la visibilidad, sino que convertimos esa atención en acciones concretas.</p>
                <div class="hero-buttons">
                    <button class="btn-primary" id="preview-btn-primary">Agendar auditoría gratuita</button>
                    <button class="btn-secondary" id="preview-btn-secondary">Ver casos de éxito</button>
                </div>
                <div class="hero-features" id="preview-hero-features">
                    <div class="feature">
                        <i class="fas fa-check-circle"></i>
                        <span>Leads calificados garantizados</span>
                    </div>
                    <div class="feature">
                        <i class="fas fa-check-circle"></i>
                        <span>Acompañamiento cercano</span>
                    </div>
                </div>
            </div>
            <div class="hero-image">
                <div class="hero-card">
                    <span class="card-text">De mensajes a clientes,<br>de clientes a crecimiento</span>
                </div>
                <div class="hero-professional">
                    <img src="assets/img/chicas/emma.png" alt="Emma - Experta en marketing digital" class="professional-avatar">
                    <div class="professional-badge">Expertas en leads</div>
                </div>
            </div>
        </div>
        <div class="scroll-indicator">
            <span>SCROLL</span>
            <div class="scroll-arrow">↓</div>
        </div>
    </section>

    <!-- About Section -->
    <section id="about" class="about">
        <div class="about-content">
            <div class="about-image">
                <div class="about-photo-main">
                    <img src="assets/img/chicas/1.jpg" alt="Equipo de trabajo analizando datos" class="about-main-img">
                    <div class="about-overlay">
                        <div class="overlay-icon">
                            <i class="fas fa-chart-line"></i>
                        </div>
                        <span>Análisis Profesional</span>
                    </div>
                </div>
                <div class="conversion-card">
                    <h3>Aumenta tu tasa<br>de conversión</h3>
                    <div class="conversion-visual">
                        <img src="assets/img/chicas/2.jpg" alt="Resultados de conversión" class="conversion-img">
                        <div class="conversion-stats">
                            <div class="stat-item-small">
                                <span class="stat-label">Mensajes</span>
                                <div class="stat-bar bar-1"></div>
                            </div>
                            <div class="stat-item-small">
                                <span class="stat-label">Consultas</span>
                                <div class="stat-bar bar-2"></div>
                            </div>
                            <div class="stat-item-small">
                                <span class="stat-label">Ventas</span>
                                <div class="stat-bar bar-3"></div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="about-text">
                <span class="section-label" id="preview-about-label">AGENCIA ESPECIALIZADA EN LEADS</span>
                <h2 id="preview-about-title">Soluciones de marketing<br>para empresas de servicios</h2>
                <div id="preview-services-container">
                    <div class="service-item">
                        <div class="service-icon">
                            <i class="fas fa-search"></i>
                        </div>
                        <div class="service-content">
                            <h4>Investigación profunda del negocio</h4>
                            <p>Analizamos tu cliente ideal, competencia y barreras de conversión en todo tu ecosistema digital.</p>
                        </div>
                    </div>
                    <div class="service-item">
                        <div class="service-icon">
                            <i class="fas fa-bullseye"></i>
                        </div>
                        <div class="service-content">
                            <h4>Estrategias publicitarias personalizadas</h4>
                            <p>Campañas enfocadas 100% en generar mensajes de calidad y agendar reuniones comerciales.</p>
                        </div>
                    </div>
                </div>
                <div class="about-buttons">
                    <button class="btn-primary">Conocer metodología</button>
                    <button class="btn-link">Nuestros servicios →</button>
                </div>
            </div>
        </div>
    </section>

    <!-- Stats Section -->
    <section id="results" class="stats">
        <div class="stats-grid" id="preview-stats-grid">
            <div class="stat-item">
                <h3>140+</h3>
                <p>Clientes atendidos</p>
            </div>
            <div class="stat-item">
                <h3>4.5/5</h3>
                <p>Satisfacción promedio</p>
            </div>
            <div class="stat-item">
                <h3>9</h3>
                <p>Expertas en el equipo</p>
            </div>
            <div class="stat-item">
                <h3>100%</h3>
                <p>Enfoque en conversión</p>
            </div>
        </div>
    </section>

    <!-- Team Section -->
    <section id="team" class="team">
        <div class="team-content">
            <div class="team-header">
                <span class="section-label">NUESTRO EQUIPO</span>
                <h2>9 mujeres expertas<br>enfocadas en tu éxito</h2>
                <p>Somos un equipo profesional dividido en áreas especializadas: marketing, operaciones, comercial, finanzas y RRHH. Nuestra mirada femenina nos permite leer mejor los contextos y diseñar estrategias que conectan desde lo real.</p>
            </div>
            <div class="team-carousel">
                <div class="carousel-container">
                    <div class="carousel-track" id="preview-team-track">
                        <!-- Team members will be populated here -->
                    </div>
                </div>
                <div class="carousel-nav">
                    <button class="nav-btn prev-btn">
                        <i class="fas fa-chevron-left"></i>
                    </button>
                    <div class="carousel-dots"></div>
                    <button class="nav-btn next-btn">
                        <i class="fas fa-chevron-right"></i>
                    </button>
                </div>
            </div>
        </div>
    </section>

    <script>
        let currentData = {};

        // Función para cargar datos del CMS
        async function loadPreviewData() {
            try {
                const response = await fetch('/api/content');
                currentData = await response.json();
                updatePreview();
            } catch (error) {
                console.error('Error loading preview data:', error);
            }
        }

        // Función para actualizar la vista previa
        function updatePreview() {
            // Actualizar Hero
            if (currentData.hero) {
                const titleElement = document.getElementById('preview-hero-title');
                if (titleElement && currentData.hero.title) {
                    const dynamicWord = currentData.hero.dynamicWords && currentData.hero.dynamicWords[0] ? currentData.hero.dynamicWords[0] : 'leads';
                    titleElement.innerHTML = `${currentData.hero.title}<br><span class="dynamic-text">${dynamicWord}</span>`;
                }

                const descElement = document.getElementById('preview-hero-description');
                if (descElement && currentData.hero.description) {
                    descElement.textContent = currentData.hero.description;
                }

                const btnPrimary = document.getElementById('preview-btn-primary');
                if (btnPrimary && currentData.hero.primaryButton) {
                    btnPrimary.textContent = currentData.hero.primaryButton;
                }

                const btnSecondary = document.getElementById('preview-btn-secondary');
                if (btnSecondary && currentData.hero.secondaryButton) {
                    btnSecondary.textContent = currentData.hero.secondaryButton;
                }

                // Actualizar features
                const featuresContainer = document.getElementById('preview-hero-features');
                if (featuresContainer && currentData.hero.features) {
                    featuresContainer.innerHTML = currentData.hero.features.map(feature => `
                        <div class="feature">
                            <i class="fas fa-check-circle"></i>
                            <span>${feature}</span>
                        </div>
                    `).join('');
                }
            }

            // Actualizar About
            if (currentData.about) {
                const labelElement = document.getElementById('preview-about-label');
                if (labelElement && currentData.about.label) {
                    labelElement.textContent = currentData.about.label;
                }

                const titleElement = document.getElementById('preview-about-title');
                if (titleElement && currentData.about.title) {
                    titleElement.innerHTML = currentData.about.title.replace(/\n/g, '<br>');
                }

                // Actualizar servicios
                const servicesContainer = document.getElementById('preview-services-container');
                if (servicesContainer && currentData.about.services) {
                    servicesContainer.innerHTML = currentData.about.services.map((service, index) => `
                        <div class="service-item">
                            <div class="service-icon">
                                <i class="fas ${index === 0 ? 'fa-search' : 'fa-bullseye'}"></i>
                            </div>
                            <div class="service-content">
                                <h4>${service.title}</h4>
                                <p>${service.description}</p>
                            </div>
                        </div>
                    `).join('');
                }
            }

            // Actualizar Stats
            if (currentData.stats) {
                const statsGrid = document.getElementById('preview-stats-grid');
                if (statsGrid && currentData.stats.length > 0) {
                    statsGrid.innerHTML = currentData.stats.map(stat => `
                        <div class="stat-item">
                            <h3>${stat.value}</h3>
                            <p>${stat.label}</p>
                        </div>
                    `).join('');
                }
            }

            // Actualizar Team
            if (currentData.team && currentData.team.members) {
                const teamTrack = document.getElementById('preview-team-track');
                if (teamTrack) {
                    teamTrack.innerHTML = currentData.team.members.map(member => `
                        <div class="team-slide">
                            <div class="team-member">
                                <div class="member-photo-container">
                                    <img src="${member.image || 'assets/img/chicas/1.jpg'}" alt="${member.name}" class="member-photo">
                                </div>
                                <div class="member-info">
                                    <h4>${member.name}</h4>
                                    <span>${member.role}</span>
                                </div>
                            </div>
                        </div>
                    `).join('');
                }
            }
        }

        // Cargar datos al iniciar
        loadPreviewData();

        // Actualizar cada 2 segundos para reflejar cambios en tiempo real
        setInterval(loadPreviewData, 2000);

        // Escuchar mensajes del iframe padre para actualizaciones inmediatas
        window.addEventListener('message', function(event) {
            if (event.data.type === 'updatePreview') {
                currentData = event.data.data;
                updatePreview();
            }
        });
    </script>
</body>
</html>